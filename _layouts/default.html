<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HCHGNHTHFC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-HCHGNHTHFC', { 'anonymize_ip': true });
    </script>

    <script>
    document.addEventListener('click', function (e) {
      const a = e.target.closest('a[data-event]');
      if (!a) return;

      const ds = a.dataset;
      const params = {
        link_url: a.href || '',
        link_text: (a.textContent || '').trim(),
        section: ds.section,      // eg. 'topnav', 'blog_teaser', 'header'
        element: ds.element,      // eg. 'home', 'blog', 'photo', 'name'
        position: ds.position,    // optional: 'menu', 'teaser', 'footer'
        content: ds.content       // eg. 'title', 'thumb', 'desc', 'more_button'
      };

      Object.keys(params).forEach(k => (params[k] == null || params[k] === '') && delete params[k]);

      if (typeof gtag === 'function') {
        gtag('event', ds.event || 'ui_click', params);
      }
    }, { capture: true });
  </script>

    <meta charset="UTF-8">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary meta -->
    <meta name="description" content="{{ page.description | default: site.description }}">
    <meta name="keywords" content="{{ page.keywords | default: site.keywords }}">
    <meta name="author" content="Michał Cichoń">

    <!-- Helpers for absolute URLs -->
    {%- assign abs_url = page.url | absolute_url -%}
    {%- assign og_img = page.image | default: 'img/michal.jpeg' -%}
    {%- assign og_img_abs = og_img | absolute_url -%}

    <!-- Canonical -->
    <link rel="canonical" href="{{ abs_url }}"/>

    <!-- Open Graph -->
    <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:url" content="{{ abs_url }}">
    <meta property="og:image" content="{{ og_img_abs }}">
    <meta property="og:image:alt" content="Thumbnail for: {{ page.title | default: site.title }}">
    <meta property="og:type" content="{% if page.layout == 'post' or page.collection == 'posts' %}article{% else %}website{% endif %}">
    <meta property="og:site_name" content="{{ site.title }}">
    <meta property="og:locale" content="{{ site.lang | default: 'en_US' }}">

    <!-- Article meta (only for posts) -->
    {% if page.layout == 'post' or page.collection == 'posts' %}
      <meta property="article:author" content="{{ site.url }}/">
      <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
      {% if page.last_modified_at %}
        <meta property="article:modified_time" content="{{ page.last_modified_at | date_to_xmlschema }}">
      {% endif %}
      {% if page.tags %}
        {% for t in page.tags %}
          <meta property="article:tag" content="{{ t }}">
        {% endfor %}
      {% endif %}
    {% endif %}

    <!-- Twitter -->
    {% if site.twitter_username %}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@{{ site.twitter_username }}">
    <meta name="twitter:creator" content="@{{ site.twitter_username }}">
    <meta name="twitter:title" content="{{ page.title | default: site.title }}">
    <meta name="twitter:description" content="{{ page.description | default: site.description }}">
    <meta name="twitter:image" content="{{ og_img_abs }}">
    {% endif %}

    <!-- Robots & RSS -->
    <meta name="robots" content="index,follow,max-image-preview:large">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="{{ '/feed.rss' | absolute_url }}" />

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="64x64" href="{{ '/icon.png' | absolute_url }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | absolute_url }}">
    <meta name="msapplication-square70x70logo" content="{{ '/ms-icon-70.png' | absolute_url }}">
    <meta name="msapplication-square150x150logo" content="{{ '/ms-icon-150.png' | absolute_url }}">
    <meta name="msapplication-square310x310logo" content="{{ '/ms-icon-310.png' | absolute_url }}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">

    <!-- Identity -->
    <link rel="me" href="https://mastodon.social/@mcichon">
    <link rel="me" href="https://x.com/{{ site.twitter_username | default: 'michal_cichon' }}">
    <meta name="fediverse:creator" content="@mcichon@mastodon.social">

    <!-- Performance (fonts) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Styles & fonts -->
    <link rel="stylesheet" type="text/css" href="{{ '/css/main.min.css' | relative_url }}?t={{ site.time | date_to_xmlschema }}">

    <!-- Article JSON-LD -->
    {% if page.layout == 'post' or page.collection == 'posts' %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": { "@type": "WebPage", "@id": "{{ abs_url }}" },
      "headline": {{ page.title | jsonify }},
      "description": {{ page.description | default: site.description | jsonify }},
      "image": {{ og_img_abs | jsonify }},
      "datePublished": "{{ page.date | date_to_xmlschema }}",
      {% if page.last_modified_at %}"dateModified": "{{ page.last_modified_at | date_to_xmlschema }}",{% endif %}
      "author": { "@type": "Person", "name": "Michał Cichoń", "url": "{{ site.url }}/" },
      "publisher": {
        "@type": "Organization",
        "name": {{ site.title | jsonify }},
        "logo": { "@type": "ImageObject", "url": "{{ '/icon.png' | absolute_url }}" }
      }
    }
    </script>
    {% endif %}

    <!-- JS -->
    <script src="{{ '/js/main.min.js' | relative_url }}?t={{ site.time | date_to_xmlschema }}"></script>
  </head>
  <body>
    <div class="wrapper">
      <div id="menu-button">
        <a href="javascript:void(0);" onclick="foldMenu()" title="Expand menu"><img class="burger" src="{{site.baseurl}}/img/burger.png" alt="&#x2630;" /></a>
      </div>
      <nav id="menu" class="topnav">
        <ul>
          <li><a href="{{site.baseurl}}/" title="Blog" data-event="nav_click" data-section="topnav" data-element="blog"  data-position="menu">Blog</a></li>
          <li><a href="{{site.baseurl}}/about-me/" title="About me" data-event="nav_click" data-section="topnav" data-element="about" data-position="menu">About me</a></li>
          <li><a href="https://www.linkedin.com/in/michalcichon" title="LinkedIn" data-event="nav_click" data-section="topnav" data-element="linkedin"  data-position="menu"><img src="/img/linkedin-icon.svg" alt="" class="linkedin-icon" width="18" height="18" loading="lazy" decoding="async"></a></li>
          <li><a href="{{ "/feed.rss" | relative_url }}" title="Subscribe" data-event="nav_click" data-section="topnav" data-element="rss"  data-position="menu"><img src="/img/feed-icon.svg" alt="" class="rss-icon" width="18" height="18" loading="lazy" decoding="async"></a></li>
        </ul>
      </nav>
      <div id="header">
        <div id="header-wrapper">
          <div id="header-content">
            <div id="header-image">
              <a href="{{site.baseurl}}/" data-event="home_click" data-section="header" data-element="photo" data-position="hero">
                <img id="my-photo" src="{{site.baseurl}}/img/michal.jpeg" alt="Michał Cichoń" title="My photo" />
              </a>
            </div>
            <div id="header-name">
              <a href="{{site.baseurl}}/" data-event="home_click" data-section="header" data-element="name" data-position="hero">
                <h1>Michał Cichoń</h1>
                <h2>Software Engineer</h2>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div id="main-space">
        <div id="main-space-content">
          {{content}}
        </div>
      </div>
      <div class="push"></div>
    </div>
    <div id="footer" class="footer">
      <div class="footer-outer-wrapper">
        <div class="footer-wrapper">
          <div class="left">
            <p>{{site.author}} &copy; <span id="currentYear">{{ site.time | date: '%Y' }}</span></p>
          </div>
          <div class="right">
            <p>
              <a href="https://twitter.com/michal_cichon">
                <object class="footer-logo" type="image/svg+xml" data="{{site.baseurl}}/img/twitter-logo.svg" width="20" height="20">
                  Twitter
                </object>
              </a>
              &nbsp;
              <a href="https://github.com/michalcichon">
                <object class="footer-logo" type="image/svg+xml" data="{{site.baseurl}}/img/github-logo.svg" width="20" height="20">
                  GitHub
                </object>
              </a>
              &nbsp;
              <a href="https://stackoverflow.com/users/2579827/michal-cichon">
                <object class="footer-logo" type="image/svg+xml" data="{{site.baseurl}}/img/stackoverflow-logo.svg" width="20" height="20">
                  Stack Overflow
                </object>
              </a>
              &nbsp;
              <a href="https://www.linkedin.com/in/michalcichon">
                <object class="footer-logo" type="image/svg+xml" data="{{site.baseurl}}/img/linkedin-logo.svg" width="20" height="20">
                  LinkedIn
                </object>
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
